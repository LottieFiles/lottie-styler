(self.webpackChunk_lottiefiles_lottie_styler_docs=self.webpackChunk_lottiefiles_lottie_styler_docs||[]).push([[342],{6475:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Q});var r=l(1082),a=l(3959),n=l(1166),i=l(6521);var o=l(6500),s=l(3850),c=l(9674),u=l(4856),d=l(6344),p=l(7679),h=l(3796);(0,o.l7)([s.Z]);var y=e=>{try{if(!e.startsWith("linear-gradient"))return!1;const t=(0,h.Q)(e);if(0===t.length)return!1;const l=t[0];return"linear-gradient"===l?.type}catch(t){return!1}},f=e=>{try{if(!e.startsWith("radial-gradient"))return!1;const t=(0,h.Q)(e);if(0===t.length)return!1;const l=t[0];return"radial-gradient"===l?.type}catch(t){return!1}},m=e=>{const t=[],l=[];if(!y(e)&&!f(e))return[];const r=(0,h.Q)(e)[0];return r?.colorStops.forEach(((e,a)=>{const n=[];let i=0;if("hex"===e.type||"literal"===e.type){const t=(0,o.Vi)(e.value);n.push(parseFloat((t.rgba.r/255).toFixed(2)),parseFloat((t.rgba.g/255).toFixed(2)),parseFloat((t.rgba.b/255).toFixed(2))),i=t.rgba.a}else if(["rgb","rgba"].includes(e.type)){const t=(0,o.Vi)({r:Number(e.value[0]),g:Number(e.value[1]),b:Number(e.value[2]),a:e.value[3]?Number(e.value[3]):1});n.push(parseFloat((t.rgba.r/255).toFixed(2)),parseFloat((t.rgba.g/255).toFixed(2)),parseFloat((t.rgba.b/255).toFixed(2))),i=t.rgba.a}let s=parseFloat((a/(r.colorStops.length-1||1)).toFixed(2));e.length?.value&&Number(e.length.value)>0&&(s=parseFloat((Number(e.length.value)/100).toFixed(2))),t.push(s,...n),l.push(s,i)})),t.push(...l),t},g=(e,t,l)=>{if(!["shape-gradient-fill","shape-gradient-stroke"].includes(e.title))return;const r=t.length/6;(0,d.Vn)(e,"attribute",(e=>{"gradient-type"===e.title&&e.children[0]?e.children[0].value="linear"===l?1:2:"count"===e.title&&e.children[0]&&(e.children[0].value=r)})),(0,d.Vn)(e,"collection",(e=>{if("static-values"===e.title&&"object"==typeof e.key&&"k"===e.key.value&&e.children[0]){e.children[0].children=t.map((e=>({type:"primitive",valueType:"number",value:e})))}}))};(0,o.l7)([s.Z]);var v=function(e,t,l,r){void 0===r&&(r=!1);const a=new Set,n=Array.isArray(e)?e:[e];for(const i of n)(0,d.Vn)(i,"attribute",((e,n,o)=>{e.title===l&&e.children[0]?.value===t&&o&&"root"!==o.type&&(r?o===i&&a.add(o):a.add(o))}));return Array.from(a)},b=e=>e.includes("-color"),k=e=>e.endsWith("%")?parseFloat(e):100*parseFloat(e),S=e=>"nonzero"===e?1:2,x=e=>{try{new URL(e)}catch(t){return!1}return!0},F=e=>{const t=(0,u.parse)(e).nodes;if(1===t.length){const e=t[0];if(e&&"func"===e.type&&"url"===e.name){const t=e.nodes;if(1===t.length){const e=t[0];if(e&&"quoted"===e.type){return e.contents}}}}return""},w=(e,t,l)=>{for(const r in t)switch(r){case"fill-color":const a=t[r];"shape-fill"===e.title?Array.isArray(a)&&(0,d.Vn)(e,"array",(e=>"color-rgba-children"===e.title&&4===e.children.length?(e.children=e.children.map(((e,t)=>({...e,value:a[t]}))),p.BK):p.dR)):"layer-solid-color"===e.title&&(0,d.Vn)(e,"attribute",(e=>{if("hex-color"===e.title&&e.children[0]?.value&&4===a?.length){const t=(0,o.Vi)({r:255*a[0],g:255*a[1],b:255*a[2],a:a[3]}).toHex();e.children[0].value=t}}));break;case"stroke-color":if("shape-stroke"===e.title){const l=t[r];Array.isArray(l)&&(0,d.Vn)(e,"array",(e=>"static-values-children"===e.title&&4===e.children.length?(e.children=e.children.map(((e,t)=>({...e,value:l[t]}))),p.BK):p.dR))}break;case"stroke-width":"shape-stroke"!==e.title&&"shape-gradient-stroke"!==e.title||(0,d.Vn)(e,"element",(e=>{"stroke-width"===e.title&&(0,d.Vn)(e,"attribute",((e,l,a)=>{"static-value"===e.title&&e.children[0]?.value&&"number"===e.children[0].valueType&&"animated-value-static"===a?.title&&(e.children[0].value=t[r])}))}));break;case"fill-rule":["shape-fill","shape-gradient-fill"].includes(e.title)&&(0,d.Vn)(e,"attribute",(e=>{"fill-rule-value"===e.title&&e.children[0]?.value&&(e.children[0].value=t[r])}));break;case"opacity":["shape-stroke","shape-fill","shape-gradient-fill","shape-gradient-stroke"].includes(e.title)&&(0,d.Vn)(e,"element",(e=>{["stroke-opacity","opacity"].includes(e.title)&&(0,d.Vn)(e,"attribute",((e,l,a)=>{"static-value"===e.title&&e.children[0]?.value&&"number"===e.children[0].valueType&&"animated-value-static"===a?.title&&(e.children[0].value=t[r])}))}));break;case"hidden":(e.title.includes("shape")||e.title.includes("layer"))&&(0,d.Vn)(e,"attribute",(e=>{"hidden"===e.title&&e.children[0]&&(e.children[0].value=t[r])}));break;case"linear-gradient-fill-color":case"linear-gradient-stroke-color":g(e,t[r],"linear");break;case"radial-gradient-fill-color":case"radial-gradient-stroke-color":g(e,t[r],"radial");break;case"src":if("layer-image"===e.title){const a=e.children.find((e=>"image-id"===e.title));if("attribute"===a?.type){const e=a.children[0]?.value;(0,d.Vn)(l,"object",(l=>{if("asset-image"===l.title){const a=l.children.some((t=>"id"===t.title&&"primitive"===t.children[0]?.type&&t.children[0].value===e));a&&(0,d.Vn)(l,"attribute",(e=>{"embedded"===e.title&&e.children[0]?e.children[0].value=0:"path"===e.title&&e.children[0]?e.children[0].value="":"filename"===e.title&&e.children[0]&&(e.children[0].value=t[r])}))}}))}}}},V=function(e){void 0===e&&(e={lss:""});return async t=>{const l=function(e){const t=(0,i.u)("root",[]);return(0,n.Qc)(e).walkRules((e=>{const l=(0,i.u)("rule",{selectors:[],selector:""},[]);l.selectors=[...e.selectors],l.selector=e.selector,e.walkDecls((e=>{const t=(0,i.u)("declaration",{important:e.important,property:e.prop,value:e.value});l.children.push(t)})),t.children.push(l)})),t}(e.lss);(0,d.Vn)(l,"rule",(e=>{const l=((e,t)=>{const l=[];for(const r of t){let t=[];const a=c.Qc(r);c._p(a,((l,r)=>{const a=t.length>0?t:e;if("id"===l.type){const e=v(a,l.name,"layer-xml-id","compound"===r?.type);t=e}else if("class"===l.type){const e=v(a,l.name,"css-class","compound"===r?.type);t=e}else if("type"===l.type){let e="",r=null;if("FillShape"===l.name?(r="shape-type",e="fl"):"StrokeShape"===l.name?(r="shape-type",e="st"):"GradientFillShape"===l.name?(r="shape-type",e="gf"):"GradientStrokeShape"===l.name?(r="shape-type",e="gs"):"ShapeLayer"===l.name?(r="layer-type",e=4):"SolidColorLayer"===l.name?(r="layer-type",e=1):"ImageLayer"===l.name&&(r="layer-type",e=2),r&&e){const l=v(a,e,r);t=l}}else if("attribute"===l.type){let e=null,n=l.value;if("id"===l.name?e="layer-xml-id":"class"===l.name?e="css-class":"name"===l.name?e="name":"shape-type"===l.name?e="shape-type":"layer-type"===l.name&&(e="layer-type",n=Number(l.value)),e&&n&&["number","string"].includes(typeof n)){const l=v(a,n,e,"compound"===r?.type);t=l}}})),l.push(...t)}return Array.from(new Set(l))})(t,e.selectors),r=(e=>{const t={};for(const r of e)if(b(r.property)&&(0,o.Vi)(r.value).isValid()){const e=(0,o.Vi)(r.value).rgba,l=[e.r/255,e.g/255,e.b/255,e.a];switch(r.property){case"fill-color":t["fill-color"]=l;break;case"stroke-color":t["stroke-color"]=l}}else if(b(r.property)&&y(r.value)){const e=m(r.value);switch(r.property){case"fill-color":t["linear-gradient-fill-color"]=e;break;case"stroke-color":t["linear-gradient-stroke-color"]=e}}else if(b(r.property)&&f(r.value)){const e=m(r.value);switch(r.property){case"fill-color":t["radial-gradient-fill-color"]=e;break;case"stroke-color":t["radial-gradient-stroke-color"]=e}}else if("stroke-width"===r.property)t["stroke-width"]=Number(r.value);else if("fill-rule"!==r.property||"nonzero"!==(l=r.value)&&"evenodd"!==l){if("opacity"===r.property){const e=k(r.value);if(Number.isNaN(e))continue;t.opacity=e<0?0:e>100?100:e}else if("visibility"===r.property)t.hidden="hidden"===r.value;else if("src"===r.property){const e=F(r.value);x(e)&&(t.src=e)}}else t["fill-rule"]=S(r.value);var l;return t})(e.children);for(const a of l)w(a,r,t)}))}},E=l(4016),L=l(8447),A=l(9901),N=l(7818),_=l(6617);const j=()=>{const e=(0,N.Z)("fileUrl")||"./animation.json",[t,l]=(0,_.Z)((async e=>{const t=await fetch(e);return await t.text()}));return A.useEffect((()=>{e&&l(e)}),[e,l]),t.value},Z=(e,t)=>{const[l,r]=A.useState(t);return A.useEffect((()=>{t&&(0,a.v)().data("settings",{parse:{messages:{warning:!1},position:!0}}).use(V,{lss:e}).process(t).then((e=>{let{value:t}=e;r(t)})).catch((e=>{console.error(e)}))}),[e,t]),l},C="\n/* Lottie Style Sheets (.LSS) */\n#cloud{\n fill-color: red;\n opacity: 90%\n}\n.cloud-borders{ \n stroke-color: black;\n stroke-width: 4;\n opacity: 0.3;\n}\n.sea{\n fill-color: #F3F666;\n}\n#solid-cloud{\n fill-color: rgba(255, 2, 243, 0.5);\n}\nGradientFillShape {\n  fill-color: radial-gradient(red 10%, blue 20%, green 40%, black 60%, yellow 70%, pink 100%);\n}\n";function Q(){const[e,t]=A.useState(C),l=j(),a=Z(e,l);return A.createElement(E.Z,{title:"LSS Playground",description:"Lottie Style Sheets Playground"},A.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},A.createElement("div",{style:{display:"flex",flexDirection:"column",justifyItems:"center",textAlign:"center"}},A.createElement("h2",null,"Original"),l&&A.createElement(r.J5,{autoplay:!0,loop:!0,src:l,style:{height:"300px",width:"300px"}},A.createElement(r.ZX,{visible:!0,buttons:["play","repeat","frame","debug"]}))),A.createElement("div",{style:{display:"flex",flexDirection:"column",justifyItems:"center",justifyContent:"center",textAlign:"center"}},A.createElement("h2",null,"Lottie Style Sheets (.LSS)"),A.createElement(L.Z,{value:e,language:"css",placeholder:"/* Lottie Style Sheets (.LSS) */\n\n#cloud{\n fill-color: red;\n}",onChange:e=>{t(e.target.value)},minHeight:300,style:{minWidth:"400px",fontSize:16,fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace"}})),A.createElement("div",{style:{display:"flex",flexDirection:"column",justifyItems:"center",textAlign:"center"}},A.createElement("h2",null,"Styled Lottie"),a&&A.createElement(r.J5,{autoplay:!0,loop:!0,src:a,style:{height:"300px",width:"auto"}},A.createElement(r.ZX,{visible:!0,buttons:["play","repeat","frame","debug"]})))))}},6564:()=>{},5946:()=>{},1574:()=>{},3012:()=>{},3002:()=>{},4913:()=>{},8798:()=>{},6862:()=>{},604:()=>{},8290:()=>{}}]);