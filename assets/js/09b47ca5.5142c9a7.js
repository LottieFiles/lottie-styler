(self.webpackChunk_lottiefiles_lottie_styler_docs=self.webpackChunk_lottiefiles_lottie_styler_docs||[]).push([[918],{6915:(e,t,l)=>{"use strict";l.d(t,{Z:()=>s});var i=l(4425),r=l(1082),a=l(694),n=l(9901);const o=()=>n.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",width:"200px"}},"Loading...");function s(e){const{fileUrl:t}=e,[l,s]=n.useState(e.code),[p,u]=n.useState(!0),[c,d]=n.useState(""),[h,f]=n.useState("");return n.useLayoutEffect((()=>{!async function(){u(!0);const e=await fetch(t);d(await e.text()),u(!1)}()}),[t]),n.useEffect((()=>{!async function(){if(c)try{const e=(0,i.P)(c),t=await e.style(l);f(t.toString())}catch(e){console.log(e)}}()}),[l,c]),n.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",marginBottom:"8px"}},n.createElement("div",{style:{flex:1,height:"100%"}},n.createElement(a.ZP,{options:{minimap:{enabled:!1}},onChange:e=>s(e),defaultLanguage:"css",value:l,height:"200px",width:"100%",beforeMount:function(e){e.languages.css.cssDefaults.options.lint.unknownProperties="ignore"}})),n.createElement("div",{style:{display:"flex",flex:.5,justifyContent:"center",alignItems:"center"}},p?n.createElement(o,null):n.createElement(r.J5,{style:{height:"200px",minWidth:"200px"},src:h,autoplay:!0,loop:!0},n.createElement(r.ZX,null))))}},9541:(e,t,l)=>{"use strict";l.r(t),l.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>h,frontMatter:()=>n,metadata:()=>s,toc:()=>u});var i=l(3027),r=(l(9901),l(7522)),a=l(6915);const n={},o="fill-rule",s={unversionedId:"lottie-style-sheets/properties/fill-rule",id:"lottie-style-sheets/properties/fill-rule",title:"fill-rule",description:"The fill-rule property in Lottie Style Sheets (LSS) specifies how to fill a path. It's used to determine the",source:"@site/docs/lottie-style-sheets/properties/fill-rule.mdx",sourceDirName:"lottie-style-sheets/properties",slug:"/lottie-style-sheets/properties/fill-rule",permalink:"/docs/lottie-style-sheets/properties/fill-rule",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/lottie-style-sheets/properties/fill-rule.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"fill-color",permalink:"/docs/lottie-style-sheets/properties/fill-color"},next:{title:"opacity",permalink:"/docs/lottie-style-sheets/properties/opacity"}},p={},u=[{value:"Using <code>nonzero</code>",id:"using-nonzero",level:2},{value:"NonZero Fill Rule",id:"nonzero-fill-rule",level:3},{value:"Using <code>evenodd</code>",id:"using-evenodd",level:2},{value:"EvenOdd Fill Rule",id:"evenodd-fill-rule",level:3}],c={toc:u},d="wrapper";function h(e){let{components:t,...l}=e;return(0,r.kt)(d,(0,i.Z)({},c,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"fill-rule"},"fill-rule"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"fill-rule"),' property in Lottie Style Sheets (LSS) specifies how to fill a path. It\'s used to determine the\n"insideness" of a point. The ',(0,r.kt)("inlineCode",{parentName:"p"},"fill-rule")," can have two values: ",(0,r.kt)("inlineCode",{parentName:"p"},"nonzero")," (Non Zero) and ",(0,r.kt)("inlineCode",{parentName:"p"},"evenodd")," (Even Odd)."),(0,r.kt)("h2",{id:"using-nonzero"},"Using ",(0,r.kt)("inlineCode",{parentName:"h2"},"nonzero")),(0,r.kt)(a.Z,{code:"\nFillShape {\n fill-rule: nonzero; \n}",fileUrl:"https://assets10.lottiefiles.com/packages/lf20_xUhmAOKNrC.json",mdxType:"Example"}),(0,r.kt)("p",null,"In this example, all paths of type ",(0,r.kt)("inlineCode",{parentName:"p"},"FillShape"),' will use the "nonzero" fill-rule.'),(0,r.kt)("h3",{id:"nonzero-fill-rule"},"NonZero Fill Rule"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"nonzero")," fill-rule is a way to fill everything, irrespective of the intersections or direction of paths. With this\nfill rule, all areas of the ",(0,r.kt)("inlineCode",{parentName:"p"},"FillShape"),' are colored, creating an effect similar to an OR operation. It\'s the equivalent\nof saying, "fill all areas of the shape that are not zero".'),(0,r.kt)("p",null,"Here's an example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"FillShape {\n  fill-rule: nonzero;\n}\n")),(0,r.kt)("p",null,"In this example, the ",(0,r.kt)("inlineCode",{parentName:"p"},"FillShape"),' will be filled using the "nonzero" fill-rule.'),(0,r.kt)("h2",{id:"using-evenodd"},"Using ",(0,r.kt)("inlineCode",{parentName:"h2"},"evenodd")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"FillShape {\n  fill-rule: evenodd;\n}\n")),(0,r.kt)("p",null,"In this example, the ",(0,r.kt)("inlineCode",{parentName:"p"},"FillShape"),' will use the "evenodd" fill-rule.'),(0,r.kt)("h3",{id:"evenodd-fill-rule"},"EvenOdd Fill Rule"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"evenodd")," fill-rule colors the ",(0,r.kt)("inlineCode",{parentName:"p"},"FillShape"),' based on the intersections and path direction. It can be used to create\n"holes" in your shapes, as it alternates between coloring and not coloring each time a path is intersected. This rule is\nhandy when you have complex paths with overlapping segments.'),(0,r.kt)("p",null,"Here's an example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"FillShape {\n  fill-rule: evenodd;\n}\n")),(0,r.kt)("p",null,"In this example, the ",(0,r.kt)("inlineCode",{parentName:"p"},"FillShape"),' will be filled using the "evenodd" fill-rule, creating interesting effects based on the\nintersections of the paths.'))}h.isMDXComponent=!0},6564:()=>{},5946:()=>{},1574:()=>{},3012:()=>{},3002:()=>{},4425:(e,t,l)=>{"use strict";l.d(t,{P:()=>F});var i=l(6930),r=l(4722),a=l(6521);var n=l(6500),o=l(3850),s=l(9674),p=l(4856),u=l(4217),c=l(3796);(0,n.l7)([o.Z]);var d=e=>{try{if(!e.startsWith("linear-gradient"))return!1;let t=(0,c.Q)(e);return!(0===t.length||"linear-gradient"!==t[0]?.type)}catch{return!1}},h=e=>{try{if(!e.startsWith("radial-gradient"))return!1;let t=(0,c.Q)(e);return!(0===t.length||"radial-gradient"!==t[0]?.type)}catch{return!1}},f=e=>{let t=[],l=[];if(!d(e)&&!h(e))return[];let i=(0,c.Q)(e)[0];return i?.colorStops.forEach(((e,r)=>{let a=[],o=0;if("hex"===e.type||"literal"===e.type){let t=(0,n.Vi)(e.value);a.push(parseFloat((t.rgba.r/255).toFixed(2)),parseFloat((t.rgba.g/255).toFixed(2)),parseFloat((t.rgba.b/255).toFixed(2))),o=t.rgba.a}else if(["rgb","rgba"].includes(e.type)){let t=(0,n.Vi)({r:Number(e.value[0]),g:Number(e.value[1]),b:Number(e.value[2]),a:e.value[3]?Number(e.value[3]):1});a.push(parseFloat((t.rgba.r/255).toFixed(2)),parseFloat((t.rgba.g/255).toFixed(2)),parseFloat((t.rgba.b/255).toFixed(2))),o=t.rgba.a}let s=parseFloat((r/(i.colorStops.length-1||1)).toFixed(2));e.length?.value&&Number(e.length.value)>0&&(s=parseFloat((Number(e.length.value)/100).toFixed(2))),t.push(s,...a),l.push(s,o)})),t.push(...l),t},y=(e,t,l)=>{if(!["shape-gradient-fill","shape-gradient-stroke"].includes(e.title))return;let i=t.length/6;(0,u.Vn)(e,"attribute",(e=>{"gradient-type"===e.title&&e.children[0]?e.children[0].value="linear"===l?1:2:"count"===e.title&&e.children[0]&&(e.children[0].value=i)})),(0,u.Vn)(e,"collection",(e=>{if("static-value"===e.title&&"object"==typeof e.key&&"k"===e.key.value&&e.children[0]&&"static-value-children"===e.children[0].title){e.children[0].children=t.map((e=>({type:"primitive",valueType:"number",value:e})))}}))};(0,n.l7)([o.Z]);var m=function(e,t,l,i){void 0===i&&(i=!1);let r=new Set,a=Array.isArray(e)?e:[e];for(let n of a)(0,u.Vn)(n,"attribute",((e,a,o)=>{e.title===l&&e.children[0]?.value===t&&o&&"root"!==o.type&&(i?o===n&&r.add(o):r.add(o))}));return Array.from(r)},v=e=>e.includes("-color"),g=e=>"nonzero"===e||"evenodd"===e,k=e=>e.endsWith("%")?parseFloat(e):100*parseFloat(e),b=e=>"nonzero"===e?1:2,x=e=>{try{new URL(e)}catch{return!1}return!0},N=e=>{let t=(0,p.parse)(e).nodes;if(1===t.length){let e=t[0];if(e&&"func"===e.type&&"url"===e.name){let t=e.nodes;if(1===t.length){let e=t[0];if(e&&"quoted"===e.type)return e.contents}}}return""},S=(e,t,l)=>{for(let i in t)switch(i){case"fill-color":let r=t[i];"shape-fill"===e.title?Array.isArray(r)&&(0,u.Vn)(e,"primitive",((e,t,l)=>{"color-rgba-children"===l?.title&&"number"==typeof t&&(e.value=r[t])})):"layer-solid-color"===e.title&&(0,u.Vn)(e,"attribute",(e=>{if("hex-color"===e.title&&e.children[0]?.value&&4===r?.length){let t=(0,n.Vi)({r:255*r[0],g:255*r[1],b:255*r[2],a:r[3]}).toHex();e.children[0].value=t}}));break;case"stroke-color":if("shape-stroke"===e.title){let l=t[i];Array.isArray(l)&&(0,u.Vn)(e,"primitive",((e,t,i)=>{"static-value-children"===i?.title&&"number"==typeof t&&(e.value=l[t])}))}break;case"stroke-width":("shape-stroke"===e.title||"shape-gradient-stroke"===e.title)&&(0,u.Vn)(e,"element",(e=>{"stroke-width"===e.title&&(0,u.Vn)(e,"attribute",((e,l,r)=>{"static-value"===e.title&&e.children[0]?.value&&"number"===e.children[0].valueType&&"animated-value-static"===r?.title&&(e.children[0].value=t[i])}))}));break;case"fill-rule":["shape-fill","shape-gradient-fill"].includes(e.title)&&(0,u.Vn)(e,"attribute",(e=>{"fill-rule"===e.title&&e.children[0]?.value&&(e.children[0].value=t[i])}));break;case"opacity":["shape-stroke","shape-fill","shape-gradient-fill","shape-gradient-stroke"].includes(e.title)&&(0,u.Vn)(e,"element",(e=>{["stroke-opacity","opacity"].includes(e.title)&&(0,u.Vn)(e,"attribute",((e,l,r)=>{"static-value"===e.title&&e.children[0]?.value&&"number"===e.children[0].valueType&&"animated-value-static"===r?.title&&(e.children[0].value=t[i])}))}));break;case"hidden":(e.title.includes("shape")||e.title.includes("layer"))&&(0,u.Vn)(e,"attribute",(e=>{"hidden"===e.title&&e.children[0]&&(e.children[0].value=t[i])}));break;case"linear-gradient-fill-color":case"linear-gradient-stroke-color":y(e,t[i],"linear");break;case"radial-gradient-fill-color":case"radial-gradient-stroke-color":y(e,t[i],"radial");break;case"src":if("layer-image"===e.title){let r=e.children.find((e=>"image-id"===e.title));if("attribute"===r?.type){let e=r.children[0]?.value;(0,u.Vn)(l,"object",(l=>{"asset-image"===l.title&&l.children.some((t=>"id"===t.title&&"primitive"===t.children[0]?.type&&t.children[0].value===e))&&(0,u.Vn)(l,"attribute",(e=>{"embedded"===e.title&&e.children[0]?e.children[0].value=0:"path"===e.title&&e.children[0]?e.children[0].value="":"filename"===e.title&&e.children[0]&&(e.children[0].value=t[i])}))}))}}}},w=function(e){return void 0===e&&(e={lss:""}),async t=>{let l=function(e){let t=(0,a.u)("root",[]);return(0,r.Qc)(e).walkRules((e=>{let l=(0,a.u)("rule",{selectors:[],selector:""},[]);l.selectors=[...e.selectors],l.selector=e.selector,e.walkDecls((e=>{let t=(0,a.u)("declaration",{important:e.important,property:e.prop,value:e.value});l.children.push(t)})),t.children.push(l)})),t}(e.lss);(0,u.Vn)(l,"rule",(e=>{let l=((e,t)=>{let l=[];for(let i of t){let t=[],r=s.Qc(i);s._p(r,((l,i)=>{let r=t.length>0?t:e;if("id"===l.type)t=m(r,l.name,"layer-xml-id","compound"===i?.type);else if("class"===l.type)t=m(r,l.name,"css-class","compound"===i?.type);else if("type"===l.type){let e="",i=null;"FillShape"===l.name?(i="shape-type",e="fl"):"StrokeShape"===l.name?(i="shape-type",e="st"):"GradientFillShape"===l.name?(i="shape-type",e="gf"):"GradientStrokeShape"===l.name?(i="shape-type",e="gs"):"ShapeLayer"===l.name?(i="layer-type",e=4):"SolidColorLayer"===l.name?(i="layer-type",e=1):"ImageLayer"===l.name&&(i="layer-type",e=2),i&&e&&(t=m(r,e,i))}else if("attribute"===l.type){let e=null,a=l.value;"id"===l.name?e="layer-xml-id":"class"===l.name?e="css-class":"name"===l.name?e="name":"shape-type"===l.name?e="shape-type":"layer-type"===l.name&&(e="layer-type",a=Number(l.value)),e&&a&&["number","string"].includes(typeof a)&&(t=m(r,a,e,"compound"===i?.type))}})),l.push(...t)}return Array.from(new Set(l))})(t,e.selectors),i=(e=>{let t={};for(let l of e)if(v(l.property)&&(0,n.Vi)(l.value).isValid()){let e=(0,n.Vi)(l.value).rgba,i=[e.r/255,e.g/255,e.b/255,e.a];switch(l.property){case"fill-color":t["fill-color"]=i;break;case"stroke-color":t["stroke-color"]=i}}else if(v(l.property)&&d(l.value)){let e=f(l.value);switch(l.property){case"fill-color":t["linear-gradient-fill-color"]=e;break;case"stroke-color":t["linear-gradient-stroke-color"]=e}}else if(v(l.property)&&h(l.value)){let e=f(l.value);switch(l.property){case"fill-color":t["radial-gradient-fill-color"]=e;break;case"stroke-color":t["radial-gradient-stroke-color"]=e}}else if("stroke-width"===l.property)t["stroke-width"]=Number(l.value);else if("fill-rule"===l.property&&g(l.value))t["fill-rule"]=b(l.value);else if("opacity"===l.property){let e=k(l.value);if(Number.isNaN(e))continue;t.opacity=e<0?0:e>100?100:e}else if("visibility"===l.property)t.hidden="hidden"===l.value;else if("src"===l.property){let e=N(l.value);x(e)&&(t.src=e)}return t})(e.children);for(let r of l)S(r,i,t)}))}},F=e=>{let t=(0,i.v)();return{style:async l=>t.use(w,{lss:l}).process(e)}}}}]);